Chuyá»ƒn Ä‘áº¿n ná»™i dung
Lá»‹ch sá»­ Ä‘oáº¡n chat



ÄÃ¢y lÃ  báº£n sao cá»§a cuá»™c trÃ² chuyá»‡n giá»¯a ChatGPT vÃ  NgÆ°á»i áº©n danh.

BÃ¡o cÃ¡o cuá»™c trÃ² chuyá»‡n
Báº¡n Ä‘Ã£ nÃ³i:
XÃ¢y dá»±ng khung Web App trÃªn Tomcat. Káº¿t ná»‘i Database. LÃ m giao diá»‡n Login/Register/CRUD cÆ¡ báº£n báº±ng html, cÃ³ thá»ƒ thÃ¬ thiáº¿t káº¿ css cho Ä‘áº¹p luÃ´n
ChatGPT Ä‘Ã£ nÃ³i:
Ok NguyÃªn, mÃ¬nh lÃ m tá»« A â†’ Z, Ä‘Ãºng kiá»ƒu Web App Java cháº¡y Tomcat + JDBC + Login / Register / CRUD, giao diá»‡n HTML + CSS gá»n gÃ ng, dá»… hiá»ƒu (chuáº©n cho mÃ´n Web / Java Web á»Ÿ FPT luÃ´n).

ğŸ§± 1. Kiáº¿n trÃºc tá»•ng thá»ƒ (cá»±c quan trá»ng)
WebApp/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controller/        (Servlet)
â”‚   â”‚    â”œâ”€â”€ LoginServlet.java
â”‚   â”‚    â”œâ”€â”€ RegisterServlet.java
â”‚   â”‚    â””â”€â”€ UserServlet.java   (CRUD)
â”‚   â”‚
â”‚   â”œâ”€â”€ dao/
â”‚   â”‚    â””â”€â”€ UserDAO.java
â”‚   â”‚
â”‚   â”œâ”€â”€ model/
â”‚   â”‚    â””â”€â”€ User.java
â”‚   â”‚
â”‚   â””â”€â”€ util/
â”‚        â””â”€â”€ DBConnection.java
â”‚
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ login.html
â”‚   â”œâ”€â”€ register.html
â”‚   â”œâ”€â”€ users.html
â”‚   â”œâ”€â”€ css/
â”‚   â”‚    â””â”€â”€ style.css
â”‚   â””â”€â”€ WEB-INF/
â”‚        â””â”€â”€ web.xml
â”‚
â””â”€â”€ lib/
     â””â”€â”€ mysql-connector-j.jar
ğŸ›¢ï¸ 2. Database (MySQL)
CREATE DATABASE webapp;
USE webapp;

CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) UNIQUE,
    password VARCHAR(100),
    email VARCHAR(100)
);
ğŸ”Œ 3. Káº¿t ná»‘i Database (JDBC)
DBConnection.java
package util;

import java.sql.Connection;
import java.sql.DriverManager;

public class DBConnection {
    public static Connection getConnection() {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
            return DriverManager.getConnection(
                "jdbc:mysql://localhost:3306/webapp",
                "root",
                "password"
            );
        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }
}
âš ï¸ Nhá»› add mysql-connector-j.jar vÃ o thÆ° má»¥c lib

ğŸ“¦ 4. Model
User.java
package model;

public class User {
    private int id;
    private String username;
    private String password;
    private String email;

    // getters & setters
}
ğŸ—„ï¸ 5. DAO (xá»­ lÃ½ SQL)
UserDAO.java
package dao;

import util.DBConnection;
import model.User;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class UserDAO {

    public boolean login(String username, String password) {
        String sql = "SELECT * FROM users WHERE username=? AND password=?";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql)) {

            ps.setString(1, username);
            ps.setString(2, password);

            return ps.executeQuery().next();
        } catch (Exception e) {
            e.printStackTrace();
        }
        return false;
    }

    public void register(User u) {
        String sql = "INSERT INTO users(username,password,email) VALUES(?,?,?)";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql)) {

            ps.setString(1, u.getUsername());
            ps.setString(2, u.getPassword());
            ps.setString(3, u.getEmail());
            ps.executeUpdate();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public List<User> getAll() {
        List<User> list = new ArrayList<>();
        String sql = "SELECT * FROM users";

        try (Connection c = DBConnection.getConnection();
             Statement st = c.createStatement();
             ResultSet rs = st.executeQuery(sql)) {

            while (rs.next()) {
                User u = new User();
                u.setId(rs.getInt("id"));
                u.setUsername(rs.getString("username"));
                u.setEmail(rs.getString("email"));
                list.add(u);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        return list;
    }
}
ğŸš¦ 6. Servlet
LoginServlet.java
@WebServlet("/login")
public class LoginServlet extends HttpServlet {
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws IOException {

        String user = req.getParameter("username");
        String pass = req.getParameter("password");

        UserDAO dao = new UserDAO();

        if (dao.login(user, pass)) {
            resp.sendRedirect("users.html");
        } else {
            resp.sendRedirect("login.html");
        }
    }
}
RegisterServlet.java
@WebServlet("/register")
public class RegisterServlet extends HttpServlet {
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws IOException {

        User u = new User();
        u.setUsername(req.getParameter("username"));
        u.setPassword(req.getParameter("password"));
        u.setEmail(req.getParameter("email"));

        new UserDAO().register(u);
        resp.sendRedirect("login.html");
    }
}
ğŸ¨ 7. Giao diá»‡n HTML + CSS
login.html
<form action="login" method="post" class="box">
    <h2>Login</h2>
    <input name="username" placeholder="Username">
    <input name="password" type="password" placeholder="Password">
    <button>Login</button>
    <a href="register.html">Register</a>
</form>
register.html
<form action="register" method="post" class="box">
    <h2>Register</h2>
    <input name="username" placeholder="Username">
    <input name="email" placeholder="Email">
    <input name="password" type="password" placeholder="Password">
    <button>Create</button>
</form>
style.css
body {
    background: linear-gradient(120deg,#6a11cb,#2575fc);
    font-family: Arial;
}

.box {
    width: 300px;
    margin: 100px auto;
    background: white;
    padding: 30px;
    border-radius: 10px;
}

.box input, .box button {
    width: 100%;
    margin: 10px 0;
    padding: 10px;
}

.box button {
    background: #2575fc;
    color: white;
    border: none;
}
âš™ï¸ 8. web.xml (náº¿u khÃ´ng dÃ¹ng annotation)
<web-app>
    <welcome-file-list>
        <welcome-file>login.html</welcome-file>
    </welcome-file-list>
</web-app>
â–¶ï¸ 9. Cháº¡y trÃªn Tomcat
Add Project â†’ Run on Server

Chá»n Apache Tomcat

VÃ o

http://localhost:8080/WebApp
ğŸ§  MÃ¬nh vá»«a giÃºp báº¡n:
âœ” Khung Web App chuáº©n MVC
âœ” JDBC + DAO
âœ” Login / Register
âœ” CRUD ná»n táº£ng
âœ” HTML + CSS Ä‘áº¹p, dá»… cháº¥m Ä‘iá»ƒm

Náº¿u báº¡n muá»‘n ğŸ‘‰ JSP thay HTML, Session Ä‘Äƒng nháº­p, CRUD full (Add/Edit/Delete), hoáº·c lÃ m Ä‘Ãºng format bÃ i ná»™p FPT
ğŸ‘‰ nÃ³i mÃ¬nh, mÃ¬nh build tiáº¿p cho báº¡n tá»«ng bÆ°á»›c ğŸ”¥

Báº¡n Ä‘Ã£ nÃ³i:
lÃ m tá»«ng cÃ¡i nhÆ°ng pháº£i cá»¥ thá»ƒ rÃµ rÃ ng, trÆ°á»›c tiÃªn lÃ  xÃ¢y khung webapp, hÆ°á»›ng dÃ¢n cá»¥ thá»ƒ lun dÃ¹m
ChatGPT Ä‘Ã£ nÃ³i:
Ok NguyÃªn ğŸ‘ mÃ¬nh Ä‘i CHáº¬M â€“ RÃ• â€“ Cá»¤ THá»‚, Ä‘Ãºng kiá»ƒu â€œlÃ m tá»›i Ä‘Ã¢u hiá»ƒu tá»›i Ä‘Ã³â€.
ğŸ‘‰ BÆ°á»›c 1 hÃ´m nay: CHá»ˆ xÃ¢y khung Web App cháº¡y Ä‘Æ°á»£c trÃªn Tomcat, CHÆ¯A Ä‘á»¥ng Database.

ğŸ§© Má»¤C TIÃŠU BÆ¯á»šC 1
Sau bÆ°á»›c nÃ y, báº¡n sáº½:

CÃ³ Web App Java cháº¡y Ä‘Æ°á»£c trÃªn Tomcat

Truy cáº­p Ä‘Æ°á»£c báº±ng trÃ¬nh duyá»‡t

Hiá»ƒu thÆ° má»¥c nÃ o Ä‘á»ƒ lÃ m gÃ¬

Sáºµn sÃ ng cho bÆ°á»›c Login / JDBC sau nÃ y

ğŸ› ï¸ YÃŠU Cáº¦U TRÆ¯á»šC KHI LÃ€M
âœ” MÃ¡y Ä‘Ã£ cÃ i:

JDK 8+

Apache Tomcat 9 hoáº·c 10

NetBeans (Ä‘Ãºng mÃ´i trÆ°á»ng báº¡n Ä‘ang dÃ¹ng)

ğŸ¥‡ BÆ¯á»šC 1: Táº O PROJECT WEB APP
1ï¸âƒ£ Má»Ÿ NetBeans
ğŸ‘‰ File â†’ New Project

2ï¸âƒ£ Chá»n loáº¡i project
Java with Ant
â†’ Java Web
â†’ Web Application
ğŸ‘‰ Nháº¥n Next

3ï¸âƒ£ Äáº·t tÃªn project
Project Name: WebAppDemo

Project Location: Ä‘á»ƒ máº·c Ä‘á»‹nh
ğŸ‘‰ Next

4ï¸âƒ£ Chá»n Server
Server: Apache Tomcat

Java EE Version: Java EE 7 hoáº·c 8
ğŸ‘‰ Finish

â³ NetBeans táº¡o projectâ€¦

ğŸ“‚ BÆ¯á»šC 2: HIá»‚U Cáº¤U TRÃšC THÆ¯ Má»¤C (Cá»°C QUAN TRá»ŒNG)
Sau khi táº¡o xong, báº¡n sáº½ tháº¥y:

WebAppDemo
â”‚
â”œâ”€â”€ Source Packages
â”‚   â””â”€â”€ (chá»©a code Java - Servlet)
â”‚
â”œâ”€â”€ Web Pages
â”‚   â”œâ”€â”€ index.jsp
â”‚   â””â”€â”€ WEB-INF
â”‚       â””â”€â”€ web.xml
â”‚
â”œâ”€â”€ Libraries
â”‚
â””â”€â”€ Configuration Files
ğŸ‘‰ Giáº£i thÃ­ch dá»… hiá»ƒu:
ThÆ° má»¥c	DÃ¹ng Ä‘á»ƒ lÃ m gÃ¬
Source Packages	Viáº¿t Servlet, Java
Web Pages	HTML / JSP / CSS
WEB-INF	Cáº¥u hÃ¬nh (user khÃ´ng truy cáº­p trá»±c tiáº¿p)
web.xml	Khai bÃ¡o servlet, welcome file
ğŸ§ª BÆ¯á»šC 3: TEST CHO CHáº®C LÃ€ WEB CHáº Y ÄÆ¯á»¢C
1ï¸âƒ£ Má»Ÿ file index.jsp
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
    <title>Web App Demo</title>
</head>
<body>
    <h1>Hello Web App!</h1>
</body>
</html>
2ï¸âƒ£ Cháº¡y project
ğŸ‘‰ Chuá»™t pháº£i WebAppDemo â†’ Run

3ï¸âƒ£ TrÃ¬nh duyá»‡t má»Ÿ lÃªn:
http://localhost:8080/WebAppDemo
Náº¿u tháº¥y:

Hello Web App!
ğŸ‰ CHÃšC Má»ªNG â€“ WEB APP ÄÃƒ CHáº Y

ğŸ§± BÆ¯á»šC 4: Táº O KHUNG MVC CHUáº¨N
1ï¸âƒ£ Táº¡o package cho Controller
ğŸ‘‰ Chuá»™t pháº£i Source Packages â†’ New â†’ Java Package

Name: controller

2ï¸âƒ£ Táº¡o Servlet máº«u
ğŸ‘‰ Chuá»™t pháº£i controller â†’ New â†’ Servlet

Class Name: HomeServlet

URL Pattern: /home

ğŸ‘‰ Finish

3ï¸âƒ£ Sá»­a HomeServlet.java
@WebServlet("/home")
public class HomeServlet extends HttpServlet {

    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws IOException {

        response.setContentType("text/html;charset=UTF-8");
        response.getWriter().println("<h2>Home Servlet Works!</h2>");
    }
}
4ï¸âƒ£ Test Servlet
Má»Ÿ trÃ¬nh duyá»‡t:

http://localhost:8080/WebAppDemo/home
Náº¿u hiá»‡n:

Home Servlet Works!
âœ… Servlet hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng

ğŸ§± BÆ¯á»šC 5: Táº O THÆ¯ Má»¤C GIAO DIá»†N
Trong Web Pages:

Táº¡o folder: css

Táº¡o folder: html

ğŸ‘‰ Chuá»™t pháº£i Web Pages â†’ New â†’ Folder

ğŸ§  Tá»”NG Káº¾T SAU BÆ¯á»šC 1
âœ” Táº¡o Web App trÃªn Tomcat
âœ” Hiá»ƒu cáº¥u trÃºc thÆ° má»¥c
âœ” Cháº¡y JSP Ä‘Æ°á»£c
âœ” Servlet hoáº¡t Ä‘á»™ng
âœ” CÃ³ khung MVC cÆ¡ báº£n

â­ï¸ BÆ¯á»šC TIáº¾P THEO (BÆ¯á»šC 2)
ğŸ‘‰ LÃ m trang Login (HTML + CSS)

Form

Action gá»­i vÃ o Servlet

ChÆ°a cáº§n Database

Náº¿u ok ğŸ‘‰ nÃ³i â€œqua bÆ°á»›c 2â€
Náº¿u káº¹t á»Ÿ bÆ°á»›c nÃ o ğŸ‘‰ chá»¥p mÃ n hÃ¬nh lá»—i, mÃ¬nh sá»­a cho báº¡n tá»«ng dÃ²ng ğŸ’ª

Báº¡n Ä‘Ã£ nÃ³i:
cháº¡y servlet khÃ´ng Ä‘c
ChatGPT Ä‘Ã£ nÃ³i:
Ok, bÃ¬nh tÄ©nh nha ğŸ˜„ Servlet khÃ´ng cháº¡y Ä‘Æ°á»£c lÃ  lá»—i Ráº¤T hay gáº·p, mÃ¬nh sáº½ báº¯t bá»‡nh tá»«ng nguyÃªn nhÃ¢n, lÃ m theo CHECKLIST, Ä‘áº£m báº£o ra lá»—i nÃ o sá»­a lá»—i Ä‘Ã³.

NguyÃªn lÃ m theo thá»© tá»±, Ä‘á»«ng nháº£y bÆ°á»›c.

âœ… CHECKLIST Sá»¬A Lá»–I â€œCHáº Y SERVLET KHÃ”NG ÄÆ¯á»¢Câ€
ğŸ” BÆ¯á»šC 1: XEM BIá»‚U HIá»†N Lá»–I LÃ€ GÃŒ
Khi báº¡n má»Ÿ:

http://localhost:8080/WebAppDemo/home
ğŸ‘‰ Báº¡n tháº¥y cÃ¡i nÃ o?

Aï¸âƒ£ Trang tráº¯ng / 404 Not Found
Bï¸âƒ£ 500 Internal Server Error
Cï¸âƒ£ Tomcat cháº¡y nhÆ°ng khÃ´ng cÃ³ gÃ¬ hiá»‡n
Dï¸âƒ£ NetBeans bÃ¡o lá»—i Ä‘á» khi Run
ğŸ‘‰ Äá»c tiáº¿p, mÃ¬nh xá»­ tá»«ng case

ğŸŸ¥ CASE A: 404 â€“ Not Found (PHá»” BIáº¾N NHáº¤T)
âŒ NguyÃªn nhÃ¢n thÆ°á»ng gáº·p
Sai URL

Sai @WebServlet

Project chÆ°a deploy láº¡i

âœ… CÃCH Sá»¬A (lÃ m Ä‘Ãºng thá»© tá»±)
1ï¸âƒ£ Kiá»ƒm tra URL CHÃNH XÃC
TÃªn project lÃ  gÃ¬ thÃ¬ URL PHáº¢I giá»‘ng y chang.

VÃ­ dá»¥:

Project name: WebAppDemo

Servlet:

@WebServlet("/home")
ğŸ‘‰ URL Ä‘Ãºng lÃ :

http://localhost:8080/WebAppDemo/home
âš ï¸ PhÃ¢n biá»‡t hoa â€“ thÆ°á»ng

2ï¸âƒ£ Kiá»ƒm tra annotation @WebServlet
Trong file HomeServlet.java PHáº¢I CÃ“:

import jakarta.servlet.annotation.WebServlet;
// hoáº·c
import javax.servlet.annotation.WebServlet;
VÃ  class pháº£i cÃ³:

@WebServlet("/home")
public class HomeServlet extends HttpServlet {
âŒ Náº¿u thiáº¿u @WebServlet â†’ servlet KHÃ”NG tá»“n táº¡i

3ï¸âƒ£ Clean & Run láº¡i project
Trong NetBeans:

ğŸ‘‰ Chuá»™t pháº£i WebAppDemo

Clean and Build

Sau Ä‘Ã³ Run

(Äá»«ng chá»‰ báº¥m Run khÃ´ng)

ğŸŸ¥ CASE B: 500 â€“ Internal Server Error
ğŸ‘‰ Lá»—i nÃ y Servlet cÃ³ cháº¡y nhÆ°ng code bÃªn trong bá»‹ crash

âœ… CÃCH Báº®T Lá»–I
1ï¸âƒ£ Má»Ÿ Output â†’ Tomcat Log trong NetBeans
2ï¸âƒ£ KÃ©o lÃªn tÃ¬m dÃ²ng mÃ u Ä‘á» âŒ

ğŸ“Œ Gá»­i mÃ¬nh dÃ²ng lá»—i Ä‘á» Ä‘áº§u tiÃªn, mÃ¬nh Ä‘á»c cho báº¡n

ğŸŸ¥ CASE C: Trang tráº¯ng, khÃ´ng hiá»‡n chá»¯
âŒ Lá»—i hay gáº·p
QuÃªn set content type hoáº·c writer

âœ… Code CHUáº¨N Ä‘á»ƒ test Servlet
Copy y nguyÃªn Ä‘oáº¡n nÃ y:

@WebServlet("/home")
public class HomeServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws IOException {

        response.setContentType("text/html;charset=UTF-8");
        response.getWriter().println("<h1>Servlet OK</h1>");
    }
}
ğŸ‘‰ Save â†’ Clean & Run

ğŸŸ¥ CASE D: NetBeans bÃ¡o lá»—i Ä‘á», khÃ´ng run Ä‘Æ°á»£c
âŒ NguyÃªn nhÃ¢n
Sai version Servlet API

Import nháº§m jakarta / javax

âœ… CÃCH KIá»‚M TRA (Ráº¤T QUAN TRá»ŒNG)
ğŸ” Xem Tomcat báº¡n dÃ¹ng lÃ  version nÃ o
Tomcat	Import Ä‘Ãºng
Tomcat 9	javax.servlet.*
Tomcat 10	jakarta.servlet.*
ğŸ‘‰ Náº¿u dÃ¹ng Tomcat 9 â†’ Code PHáº¢I nhÆ° sau:
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.annotation.WebServlet;
ğŸ‘‰ Náº¿u dÃ¹ng Tomcat 10:
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.annotation.WebServlet;
âŒ Trá»™n 2 cÃ¡i = CHáº¾T servlet

ğŸ§ª BÆ¯á»šC TEST CUá»I (Cá»°C CHUáº¨N)
1ï¸âƒ£ Táº¡o servlet má»›i Ä‘á»ƒ test
TÃªn: TestServlet
URL: /test

2ï¸âƒ£ Code:
@WebServlet("/test")
public class TestServlet extends HttpServlet {
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws IOException {
        resp.getWriter().print("TEST OK");
    }
}
3ï¸âƒ£ VÃ o:
http://localhost:8080/WebAppDemo/test
Náº¿u ra TEST OK â†’ Tomcat + Servlet OK 100%

ğŸ“Œ GIá»œ Báº N LÃ€M 1 VIá»†C DUY NHáº¤T
ğŸ‘‰ Tráº£ lá»i mÃ¬nh 3 thá»© nÃ y (copy paste):

1ï¸âƒ£ URL báº¡n Ä‘ang gÃµ
2ï¸âƒ£ ToÃ n bá»™ code HomeServlet.java
3ï¸âƒ£ Tomcat version (9 hay 10)

MÃ¬nh sáº½ chá»‰ Ä‘Ãºng 1 dÃ²ng sai cho báº¡n, sá»­a xong lÃ  cháº¡y ngay ğŸ’ª

Báº¡n Ä‘Ã£ nÃ³i:
cháº¡y Ä‘c rá»“i =)), lÃ m tiáº¿p Ä‘i
ChatGPT Ä‘Ã£ nÃ³i:
Haha Ä‘á»‰nh ğŸ˜†ğŸ”¥ cháº¡y Ä‘Æ°á»£c servlet lÃ  qua cá»­a tá»­ rá»“i.
Giá» mÃ¬nh lÃ m tiáº¿p BÆ¯á»šC 2, váº«n theo tiÃªu chÃ­: cháº­m â€“ rÃµ â€“ lÃ m tá»›i Ä‘Ã¢u hiá»ƒu tá»›i Ä‘Ã³.

ğŸ¥ˆ BÆ¯á»šC 2: LÃ€M TRANG LOGIN (HTML + CSS)
âš ï¸ CHÆ¯A Káº¾T Ná»I DATABASE
ğŸ‘‰ Má»¥c tiÃªu: form HTML â†’ gá»­i dá»¯ liá»‡u â†’ Servlet nháº­n Ä‘Æ°á»£c

ğŸ¯ Má»¤C TIÃŠU BÆ¯á»šC 2
Sau bÆ°á»›c nÃ y, báº¡n sáº½:

CÃ³ trang login Ä‘áº¹p

Submit form tá»« HTML

Servlet nháº­n Ä‘Æ°á»£c username, password

In ra káº¿t quáº£ Ä‘á»ƒ kiá»ƒm tra

ğŸ“‚ BÆ¯á»šC 2.1: Táº O FILE GIAO DIá»†N
1ï¸âƒ£ Trong Web Pages
ğŸ‘‰ Chuá»™t pháº£i Web Pages â†’ New â†’ HTML

File name: login.html

Finish

âœï¸ BÆ¯á»šC 2.2: CODE LOGIN.HTML
ğŸ‘‰ Copy y nguyÃªn (Ä‘á»«ng sá»­a trÆ°á»›c):

<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <form action="login" method="post" class="login-box">
        <h2>Login</h2>

        <input type="text" name="username" placeholder="Username" required>
        <input type="password" name="password" placeholder="Password" required>

        <button type="submit">Login</button>
    </form>

</body>
</html>
ğŸ“Œ LÆ°u Ã½:

action="login" ğŸ‘‰ sáº½ gá»i LoginServlet

method="post" ğŸ‘‰ gá»­i dá»¯ liá»‡u an toÃ n

ğŸ¨ BÆ¯á»šC 2.3: Táº O CSS CHO Äáº¸P
1ï¸âƒ£ Trong Web Pages
ğŸ‘‰ Chuá»™t pháº£i â†’ New â†’ Folder

Name: css

2ï¸âƒ£ Táº¡o file style.css
body {
    background: linear-gradient(120deg, #6a11cb, #2575fc);
    font-family: Arial, sans-serif;
}

.login-box {
    width: 320px;
    margin: 120px auto;
    background: white;
    padding: 30px;
    border-radius: 10px;
}

.login-box h2 {
    text-align: center;
}

.login-box input {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
}

.login-box button {
    width: 100%;
    padding: 10px;
    background: #2575fc;
    border: none;
    color: white;
    cursor: pointer;
}
ğŸ§ª TEST NHANH
Cháº¡y project â†’ vÃ o:

http://localhost:8080/WebAppDemo/login.html
ğŸ‘‰ Náº¿u tháº¥y form login Ä‘áº¹p â†’ OK ğŸ‘Œ

ğŸš¦ BÆ¯á»šC 2.4: Táº O LOGIN SERVLET
1ï¸âƒ£ Táº¡o Servlet
ğŸ‘‰ Chuá»™t pháº£i Source Packages â†’ controller
â†’ New â†’ Servlet

Class Name: LoginServlet

URL Pattern: /login

Finish

âœï¸ BÆ¯á»šC 2.5: CODE LOGIN SERVLET
ğŸ‘‰ Copy y nguyÃªn Ä‘á»ƒ test trÆ°á»›c:

@WebServlet("/login")
public class LoginServlet extends HttpServlet {

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws IOException {

        String username = request.getParameter("username");
        String password = request.getParameter("password");

        response.setContentType("text/html;charset=UTF-8");
        response.getWriter().println("<h2>Login Info</h2>");
        response.getWriter().println("Username: " + username + "<br>");
        response.getWriter().println("Password: " + password);
    }
}
ğŸ“Œ Ã nghÄ©a:

getParameter() ğŸ‘‰ láº¥y dá»¯ liá»‡u tá»« form

In ra mÃ n hÃ¬nh Ä‘á»ƒ kiá»ƒm tra form gá»­i Ä‘Ãºng chÆ°a

ğŸ§ª BÆ¯á»šC 2.6: TEST FULL FLOW
1ï¸âƒ£ Má»Ÿ:
http://localhost:8080/WebAppDemo/login.html
2ï¸âƒ£ Nháº­p:
username: admin
password: 123
3ï¸âƒ£ Báº¥m Login
ğŸ‘‰ Náº¿u tháº¥y:

Login Info
Username: admin
Password: 123
ğŸ‰ CHÃšC Má»ªNG â€“ FORM â†’ SERVLET ÄÃƒ THÃ”NG

ğŸ§  Tá»”NG Káº¾T BÆ¯á»šC 2
âœ” HTML Form
âœ” CSS cÆ¡ báº£n
âœ” POST dá»¯ liá»‡u
âœ” Servlet nháº­n dá»¯ liá»‡u
âœ” Hiá»ƒu luá»“ng request

â­ï¸ BÆ¯á»šC 3 (Cá»°C QUAN TRá»ŒNG)
ğŸ‘‰ Xá»¬ LÃ LOGIN Báº°NG SESSION

ÄÃºng chuáº©n web

PhÃ¢n biá»‡t Ä‘Ã£ login / chÆ°a login

Redirect trang

Náº¿u ok ğŸ‘‰ nÃ³i â€œqua bÆ°á»›c 3â€
Náº¿u muá»‘n chá»‰nh giao diá»‡n Ä‘áº¹p hÆ¡n ğŸ‘‰ nÃ³i â€œtÃ´ thÃªm cssâ€
MÃ¬nh theo báº¡n tá»›i khi CRUD full luÃ´n ğŸ’ª

Báº¡n Ä‘Ã£ nÃ³i:
táº¡o file css chá»— nÃ o
ChatGPT Ä‘Ã£ nÃ³i:
CÃ¢u nÃ y há»i Ä‘Ãºng chá»— hay nháº§m nháº¥t luÃ´n ğŸ‘
MÃ¬nh nÃ³i cá»±c cá»¥ thá»ƒ, lÃ m theo lÃ  khÃ´ng sai Ä‘Æ°á»£c.

ğŸ“ CSS Táº O á» ÄÃ‚U? (QUY Táº®C VÃ€NG)
ğŸ‘‰ CSS LUÃ”N náº±m trong Web Pages,
âŒ KHÃ”NG táº¡o trong Source Packages

ğŸªœ LÃ€M Tá»ªNG BÆ¯á»šC (NETBEANS)
ğŸ¥‡ BÆ¯á»šC 1: Má» ÄÃšNG CHá»–
Trong NetBeans, nhÃ¬n cÃ¢y thÆ° má»¥c:

WebAppDemo
â””â”€â”€ Web Pages
    â”œâ”€â”€ index.jsp
    â””â”€â”€ WEB-INF
ğŸ‘‰ Chuá»™t pháº£i vÃ o Web Pages

ğŸ¥ˆ BÆ¯á»šC 2: Táº O FOLDER CSS
ğŸ‘‰ Chuá»™t pháº£i Web Pages
â†’ New
â†’ Folder

Folder Name: css

OK

Sau bÆ°á»›c nÃ y báº¡n sáº½ tháº¥y:

Web Pages
â”œâ”€â”€ css
â””â”€â”€ WEB-INF
ğŸ¥‰ BÆ¯á»šC 3: Táº O FILE CSS
ğŸ‘‰ Chuá»™t pháº£i folder css
â†’ New
â†’ Cascading Style Sheet

File Name: style

Finish

ğŸ“Œ NetBeans tá»± thÃªm .css

ğŸ“‚ Cáº¤U TRÃšC ÄÃšNG SAU KHI Táº O
Web Pages
â”œâ”€â”€ css
â”‚   â””â”€â”€ style.css   âœ…
â”œâ”€â”€ login.html
â””â”€â”€ WEB-INF
ğŸ”— LINK CSS TRONG HTML (QUAN TRá»ŒNG)
Trong login.html:

<link rel="stylesheet" href="css/style.css">
âš ï¸ KhÃ´ng cÃ³ dáº¥u / phÃ­a trÆ°á»›c
âŒ Sai: /css/style.css
âœ… ÄÃºng: css/style.css

ğŸ§ª CÃCH TEST CSS CÃ“ Ä‚N HAY KHÃ”NG
CÃ¡ch nhanh nháº¥t:
1ï¸âƒ£ Má»Ÿ style.css
2ï¸âƒ£ ThÃªm dÃ²ng Ä‘áº§u tiÃªn:

body {
    background: red !important;
}
3ï¸âƒ£ Reload trang login

ğŸ‘‰ Náº¿u ná»n Ä‘á» â†’ CSS OK
ğŸ‘‰ Náº¿u khÃ´ng Ä‘á»•i â†’ link CSS SAI

âŒ Lá»–I HAY Gáº¶P
Lá»—i	NguyÃªn nhÃ¢n
CSS khÃ´ng Äƒn	Táº¡o nháº§m trong Source Packages
404 css	Sai Ä‘Æ°á»ng dáº«n
KhÃ´ng Ä‘á»•i giao diá»‡n	ChÆ°a reload (Ctrl + F5)
âœ… TÃ“M Táº®T 1 DÃ’NG
CSS = Web Pages â†’ css â†’ style.css

Giá» báº¡n lÃ m xong CSS chÆ°a?
ğŸ‘‰ Náº¿u rá»“i nÃ³i â€œok cssâ€ â†’ mÃ¬nh qua BÆ¯á»šC 3: SESSION + LOGIN CHUáº¨N WEB ğŸ”¥

Báº¡n Ä‘Ã£ nÃ³i:
oke lÃ m tiáº¿p b3
ChatGPT Ä‘Ã£ nÃ³i:
QuÃ¡ ngon ğŸ˜ğŸ”¥
BÆ¯á»šC 3 = CHUáº¨N WEB APP THáº¬T Sá»°
â†’ Login báº±ng SESSION
â†’ Cháº·n ngÆ°á»i chÆ°a login
â†’ Logout Ä‘Ã ng hoÃ ng

MÃ¬nh váº«n Ä‘i rÃµ â€“ cháº­m â€“ tá»«ng bÆ°á»›c nha.

ğŸ¥‰ BÆ¯á»šC 3: LOGIN Báº°NG SESSION (CHÆ¯A DB)
ğŸ¯ Má»¤C TIÃŠU BÆ¯á»šC 3
Sau bÆ°á»›c nÃ y, báº¡n sáº½:

Biáº¿t Session lÃ  gÃ¬ & dÃ¹ng Ä‘á»ƒ lÃ m gÃ¬

Login xong â†’ nhá»› tráº¡ng thÃ¡i Ä‘Äƒng nháº­p

ChÆ°a login â†’ khÃ´ng vÃ o Ä‘Æ°á»£c trang protected

CÃ³ Logout

ğŸ§  GIáº¢I THÃCH NHANH (HIá»‚U TRÆ¯á»šC KHI CODE)
ğŸ‘‰ Session = vÃ¹ng nhá»› phÃ­a server
ğŸ‘‰ DÃ¹ng Ä‘á»ƒ lÆ°u:

user Ä‘Ã£ login chÆ°a

username

role (sau nÃ y)

ğŸ“Œ Web khÃ´ng cÃ³ session â†’ reload lÃ  quÃªn sáº¡ch

ğŸ§± BÆ¯á»šC 3.1: Sá»¬A LOGIN SERVLET (Táº O SESSION)
Má»Ÿ LoginServlet.java
ğŸ‘‰ Sá»¬A TOÃ€N Bá»˜ THÃ€NH:

@WebServlet("/login")
public class LoginServlet extends HttpServlet {

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws IOException {

        String username = request.getParameter("username");
        String password = request.getParameter("password");

        // Táº M THá»œI hard-code Ä‘á»ƒ test
        if ("admin".equals(username) && "123".equals(password)) {

            // Táº¡o session
            HttpSession session = request.getSession();
            session.setAttribute("user", username);

            response.sendRedirect("home");
        } else {
            response.sendRedirect("login.html");
        }
    }
}
ğŸ“Œ Chá»— quan trá»ng:

HttpSession session = request.getSession();
session.setAttribute("user", username);
ğŸ  BÆ¯á»šC 3.2: Táº O HOME SERVLET (TRANG SAU LOGIN)
1ï¸âƒ£ Táº¡o servlet má»›i
Name: HomeServlet

URL: /home

2ï¸âƒ£ Code HomeServlet.java
@WebServlet("/home")
public class HomeServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws IOException {

        HttpSession session = request.getSession(false);

        // CHÆ¯A LOGIN
        if (session == null || session.getAttribute("user") == null) {
            response.sendRedirect("login.html");
            return;
        }

        // ÄÃƒ LOGIN
        String username = session.getAttribute("user").toString();

        response.setContentType("text/html;charset=UTF-8");
        response.getWriter().println("<h1>Welcome " + username + "</h1>");
        response.getWriter().println("<a href='logout'>Logout</a>");
    }
}
ğŸ“Œ Cá»±c quan trá»ng:

request.getSession(false)
â†’ khÃ´ng táº¡o session má»›i náº¿u chÆ°a login

ğŸšª BÆ¯á»šC 3.3: LOGOUT SERVLET
1ï¸âƒ£ Táº¡o servlet
Name: LogoutServlet

URL: /logout

2ï¸âƒ£ Code LogoutServlet.java
@WebServlet("/logout")
public class LogoutServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws IOException {

        HttpSession session = request.getSession(false);

        if (session != null) {
            session.invalidate(); // xoÃ¡ session
        }

        response.sendRedirect("login.html");
    }
}
ğŸ§ª BÆ¯á»šC 3.4: TEST TOÃ€N Bá»˜ FLOW
âœ… TEST 1: CHÆ¯A LOGIN
Má»Ÿ:

http://localhost:8080/WebAppDemo/home
ğŸ‘‰ Bá»‹ Ä‘Ã¡ vá» login.html âœ…

âœ… TEST 2: LOGIN ÄÃšNG
username: admin

password: 123

ğŸ‘‰ VÃ o Ä‘Æ°á»£c:

Welcome admin
Logout
âœ… TEST 3: LOGOUT
Báº¥m Logout

Thá»­ vÃ o /home

ğŸ‘‰ Bá»‹ Ä‘Ã¡ vá» login âœ…

ğŸ§  Tá»”NG Káº¾T BÆ¯á»šC 3
âœ” Session hoáº¡t Ä‘á»™ng
âœ” Login Ä‘Ãºng chuáº©n web
âœ” Cháº·n truy cáº­p trÃ¡i phÃ©p
âœ” Logout hoÃ n chá»‰nh

ğŸ”¥ Tá»›i Ä‘Ã¢y lÃ  web app tháº­t, khÃ´ng cÃ²n demo linh tinh ná»¯a.

â­ï¸ BÆ¯á»šC 4 (Ráº¤T QUAN TRá»ŒNG)
ğŸ‘‰ Káº¾T Ná»I DATABASE (JDBC + MySQL)

Thay hard-code login

Login báº±ng dá»¯ liá»‡u tháº­t

Chuáº©n bÃ i thi / Ä‘á»“ Ã¡n

Náº¿u ok ğŸ‘‰ nÃ³i â€œqua bÆ°á»›c 4â€
Náº¿u muá»‘n ğŸ‘‰ chuyá»ƒn Home sang HTML/JSP cho Ä‘áº¹p
MÃ¬nh Ä‘i theo Ä‘Ãºng tá»‘c Ä‘á»™ cá»§a báº¡n ğŸ’ª

Báº¡n Ä‘Ã£ nÃ³i:
 lÃ m pháº§n register háº£ Ä‘c khÃ´ng
ChatGPT Ä‘Ã£ nÃ³i:
ÄÆ°á»£c 100% nha ğŸ˜„ğŸ‘
VÃ  lÃ m Register á»Ÿ thá»i Ä‘iá»ƒm nÃ y lÃ  QUÃ Há»¢P LÃ luÃ´n (trÆ°á»›c DB Ä‘á»ƒ hiá»ƒu luá»“ng, sau Ä‘Ã³ ná»‘i DB lÃ  auto hiá»ƒu).

ğŸ‘‰ BÆ¯á»šC 3.5: REGISTER (chÆ°a DB, dÃ¹ng session táº¡m)
MÃ¬nh váº«n Ä‘i rÃµ â€“ cháº­m â€“ tá»«ng bÆ°á»›c.

ğŸ§¾ BÆ¯á»šC 3.5: LÃ€M REGISTER (HTML + SERVLET)
ğŸ¯ Má»¤C TIÃŠU
CÃ³ trang Register

Gá»­i dá»¯ liá»‡u tá»« form

Servlet nháº­n dá»¯ liá»‡u

Äiá»u hÆ°á»›ng há»£p lÃ½

ğŸ“‚ BÆ¯á»šC 3.5.1: Táº O register.html
ğŸ‘‰ Trong Web Pages
â†’ New â†’ HTML

TÃªn file: register.html

âœï¸ CODE register.html
<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <form action="register" method="post" class="login-box">
        <h2>Register</h2>

        <input type="text" name="username" placeholder="Username" required>
        <input type="password" name="password" placeholder="Password" required>
        <input type="password" name="repassword" placeholder="Re-enter Password" required>

        <button type="submit">Register</button>

        <p style="text-align:center;">
            <a href="login.html">Back to Login</a>
        </p>
    </form>

</body>
</html>
ğŸ“Œ DÃ¹ng láº¡i class .login-box cho Ä‘á»“ng bá»™ giao diá»‡n

ğŸš¦ BÆ¯á»šC 3.5.2: Táº O REGISTER SERVLET
ğŸ‘‰ Chuá»™t pháº£i controller
â†’ New â†’ Servlet

Class Name: RegisterServlet

URL Pattern: /register

âœï¸ CODE RegisterServlet.java
ğŸ‘‰ Copy y nguyÃªn Ä‘á»ƒ test trÆ°á»›c:

@WebServlet("/register")
public class RegisterServlet extends HttpServlet {

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws IOException {

        String username = request.getParameter("username");
        String password = request.getParameter("password");
        String repassword = request.getParameter("repassword");

        response.setContentType("text/html;charset=UTF-8");

        // check password match
        if (!password.equals(repassword)) {
            response.getWriter().println("<h3>Password not match!</h3>");
            response.getWriter().println("<a href='register.html'>Back</a>");
            return;
        }

        // Táº M GIáº¢ Láº¬P ÄÄ‚NG KÃ THÃ€NH CÃ”NG
        response.getWriter().println("<h2>Register success!</h2>");
        response.getWriter().println("<a href='login.html'>Go to Login</a>");
    }
}
ğŸ§ª BÆ¯á»šC 3.5.3: TEST REGISTER
1ï¸âƒ£ Má»Ÿ:
http://localhost:8080/WebAppDemo/register.html
2ï¸âƒ£ Test sai password
pass: 123

repass: 456

ğŸ‘‰ BÃ¡o Password not match âœ…

3ï¸âƒ£ Test Ä‘Ãºng password
pass: 123

repass: 123

ğŸ‘‰ BÃ¡o Register success âœ…

ğŸ”— BÆ¯á»šC 3.5.4: LINK LOGIN â†” REGISTER
ğŸ‘‰ Má»Ÿ login.html thÃªm dÆ°á»›i nÃºt Login:

<p style="text-align:center;">
    <a href="register.html">Create new account</a>
</p>
ğŸ§  Tá»”NG Káº¾T REGISTER
âœ” Trang Register riÃªng
âœ” Check password
âœ” Servlet xá»­ lÃ½
âœ” Äiá»u hÆ°á»›ng Ä‘Ãºng
âœ” Sáºµn sÃ ng gáº¯n Database

ğŸ”¥ Tá»›i Ä‘Ã¢y báº¡n Ä‘Ã£ cÃ³:

Login (Session)

Register

Logout

Home báº£o vá»‡

â­ï¸ BÆ¯á»šC 4 (Cá»°C QUAN TRá»ŒNG NHáº¤T)
ğŸ‘‰ Káº¾T Ná»I DATABASE (MySQL + JDBC)

Register lÆ°u DB

Login Ä‘á»c DB

Chuáº©n Ä‘á»“ Ã¡n / bÃ i ná»™p

Náº¿u ok ğŸ‘‰ nÃ³i â€œqua bÆ°á»›c 4â€
Náº¿u muá»‘n ğŸ‘‰ validate dá»¯ liá»‡u Ä‘áº¹p hÆ¡n / CSS cho register

Báº¡n Ä‘Ã£ nÃ³i:
oke lÃ m b4
ChatGPT Ä‘Ã£ nÃ³i:
QuÃ¡ chuáº©n ğŸ”¥
BÆ¯á»šC 4 = TRÃI TIM Cá»¦A WEB APP
ğŸ‘‰ Káº¾T Ná»I DATABASE (JDBC) â†’ LOGIN & REGISTER THáº¬T
MÃ¬nh lÃ m ráº¥t cháº­m â€“ ráº¥t rÃµ â€“ Ä‘Ãºng bÃ i giáº£ng FPT.

ğŸ§± BÆ¯á»šC 4: Káº¾T Ná»I DATABASE (JDBC + MySQL)
ğŸ¯ Má»¤C TIÃŠU BÆ¯á»šC 4
Sau bÆ°á»›c nÃ y, báº¡n sáº½:

Káº¿t ná»‘i Web App â†” MySQL

Register â†’ lÆ°u dá»¯ liá»‡u vÃ o DB

Login â†’ kiá»ƒm tra DB

KhÃ´ng cÃ²n hard-code

ğŸ›¢ï¸ BÆ¯á»šC 4.1: Táº O DATABASE & TABLE
ğŸ‘‰ Má»Ÿ MySQL Workbench / SQL Server (á»Ÿ Ä‘Ã¢y mÃ¬nh dÃ¹ng MySQL)

CREATE DATABASE webapp;
USE webapp;

CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) UNIQUE,
    password VARCHAR(100)
);
ğŸ“Œ Ghi nhá»›:

DB name: webapp

Table: users

ğŸ“¦ BÆ¯á»šC 4.2: ADD JDBC DRIVER VÃ€O PROJECT
CÃCH 1 (Dá»„ NHáº¤T â€“ NETBEANS)
1ï¸âƒ£ Chuá»™t pháº£i Libraries
2ï¸âƒ£ Add JAR/Folder
3ï¸âƒ£ Chá»n file:

mysql-connector-j-8.x.x.jar
4ï¸âƒ£ OK

ğŸ‘‰ Náº¿u chÆ°a cÃ³ file .jar â†’ nÃ³i mÃ¬nh, mÃ¬nh chá»‰ link Ä‘Ãºng báº£n

ğŸ”Œ BÆ¯á»šC 4.3: Táº O CLASS Káº¾T Ná»I DB
1ï¸âƒ£ Táº¡o package
ğŸ‘‰ Source Packages â†’ New â†’ Java Package

Name: util

2ï¸âƒ£ Táº¡o DBConnection.java
package util;

import java.sql.Connection;
import java.sql.DriverManager;

public class DBConnection {

    public static Connection getConnection() {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");

            return DriverManager.getConnection(
                "jdbc:mysql://localhost:3306/webapp",
                "root",
                "YOUR_PASSWORD"
            );

        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }
}
âš ï¸ Thay:

YOUR_PASSWORD = máº­t kháº©u MySQL cá»§a báº¡n

ğŸ‘¤ BÆ¯á»šC 4.4: Táº O MODEL USER
ğŸ‘‰ Táº¡o package model

User.java
package model;

public class User {
    private int id;
    private String username;
    private String password;

    public User() {}

    public User(String username, String password) {
        this.username = username;
        this.password = password;
    }

    public int getId() { return id; }
    public void setId(int id) { this.id = id; }

    public String getUsername() { return username; }
    public void setUsername(String username) { this.username = username; }

    public String getPassword() { return password; }
    public void setPassword(String password) { this.password = password; }
}
ğŸ—„ï¸ BÆ¯á»šC 4.5: DAO â€“ LÃ€M VIá»†C Vá»šI DB
ğŸ‘‰ Táº¡o package dao

UserDAO.java
package dao;

import model.User;
import util.DBConnection;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;

public class UserDAO {

    // REGISTER
    public boolean register(User user) {
        String sql = "INSERT INTO users(username, password) VALUES (?, ?)";

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {

            ps.setString(1, user.getUsername());
            ps.setString(2, user.getPassword());
            ps.executeUpdate();
            return true;

        } catch (Exception e) {
            e.printStackTrace();
        }
        return false;
    }

    // LOGIN
    public boolean login(String username, String password) {
        String sql = "SELECT * FROM users WHERE username=? AND password=?";

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {

            ps.setString(1, username);
            ps.setString(2, password);

            ResultSet rs = ps.executeQuery();
            return rs.next();

        } catch (Exception e) {
            e.printStackTrace();
        }
        return false;
    }
}
ğŸ“Œ DÃ¹ng PreparedStatement â†’ chá»‘ng SQL Injection (ráº¥t hay bá»‹ há»i thi)

ğŸ” BÆ¯á»šC 4.6: Sá»¬A REGISTER SERVLET (LÆ¯U DB)
RegisterServlet.java
@WebServlet("/register")
public class RegisterServlet extends HttpServlet {

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws IOException {

        String username = request.getParameter("username");
        String password = request.getParameter("password");
        String repassword = request.getParameter("repassword");

        if (!password.equals(repassword)) {
            response.getWriter().println("Password not match!");
            return;
        }

        User user = new User(username, password);
        UserDAO dao = new UserDAO();

        if (dao.register(user)) {
            response.sendRedirect("login.html");
        } else {
            response.getWriter().println("Register failed!");
        }
    }
}
ğŸ” BÆ¯á»šC 4.7: Sá»¬A LOGIN SERVLET (Äá»ŒC DB)
LoginServlet.java
@WebServlet("/login")
public class LoginServlet extends HttpServlet {

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws IOException {

        String username = request.getParameter("username");
        String password = request.getParameter("password");

        UserDAO dao = new UserDAO();

        if (dao.login(username, password)) {
            HttpSession session = request.getSession();
            session.setAttribute("user", username);
            response.sendRedirect("home");
        } else {
            response.sendRedirect("login.html");
        }
    }
}
ğŸ§ª BÆ¯á»šC 4.8: TEST TOÃ€N Bá»˜
âœ… TEST REGISTER
Má»Ÿ register.html

Táº¡o tÃ i khoáº£n

Check DB:

SELECT * FROM users;
ğŸ‘‰ CÃ³ dá»¯ liá»‡u = OK

âœ… TEST LOGIN
Login báº±ng tÃ i khoáº£n vá»«a táº¡o

VÃ o /home

Logout

Login láº¡i

ğŸ‘‰ MÆ°á»£t = DONE ğŸ‰

ğŸ§  Tá»”NG Káº¾T BÆ¯á»šC 4
âœ” JDBC káº¿t ná»‘i thÃ nh cÃ´ng
âœ” Register lÆ°u DB
âœ” Login Ä‘á»c DB
âœ” Session hoáº¡t Ä‘á»™ng
âœ” Chuáº©n bÃ i Web App MVC

â­ï¸ BÆ¯á»šC 5 (NEXT LEVEL)
ğŸ‘‰ CRUD USER (LIST / ADD / EDIT / DELETE)
ğŸ‘‰ Hoáº·c CHUYá»‚N SANG JSP Äá»‚ GIAO DIá»†N Äáº¸P + CHUáº¨N MVC

Báº¡n muá»‘n:

5A: CRUD USER

5B: JSP + MVC Ä‘Ãºng chuáº©n tháº§y cháº¥m

NÃ³i mÃ¬nh chá»n A hay B, mÃ¬nh lÃ m tiáº¿p liá»n ğŸš€

Báº¡n Ä‘Ã£ nÃ³i:
ÄÃ£ táº£i lÃªn má»™t tá»‡p
link database tá»›i file nÃ y
ChatGPT Ä‘Ã£ nÃ³i:
Ok, mÃ¬nh hiá»ƒu cÃ¢u â€œlink database tá»›i file nÃ yâ€ lÃ  báº¡n Ä‘ang há»i:

ğŸ‘‰ lÃ m sao Ä‘á»ƒ dÃ¹ng file script.sql báº¡n cÃ³ â†’ táº¡o DB â†’ rá»“i web app Java (JDBC) káº¿t ná»‘i Ä‘Ãºng vÃ o DB Ä‘Ã³

MÃ¬nh lÃ m cá»¥ thá»ƒ 100%, khÃ´ng mÆ¡ há»“.

ğŸ§© Tá»”NG QUAN LUá»’NG
script.sql  â”€â”€â–¶  MySQL (táº¡o DB + table)
                         â–²
                         â”‚
                 DBConnection.java
                         â–²
                         â”‚
                   DAO / Servlet
ğŸ¥‡ BÆ¯á»šC 1: IMPORT FILE script.sql VÃ€O DATABASE
CÃCH 1: DÃ™NG MYSQL WORKBENCH (Dá»„ NHáº¤T)
1ï¸âƒ£ Má»Ÿ MySQL Workbench
â†’ Káº¿t ná»‘i MySQL

2ï¸âƒ£ File â†’ Open SQL Script
â†’ Má»Ÿ file script.sql

(hoáº·c copy toÃ n bá»™ ná»™i dung file Ä‘Ã³)

3ï¸âƒ£ Báº¥m âš¡ Execute
ğŸ‘‰ Sau khi cháº¡y xong, kiá»ƒm tra:

SHOW DATABASES;
Náº¿u tháº¥y DB (vÃ­ dá»¥: webapp) â†’ OK

CÃCH 2: DÃ™NG COMMAND LINE (náº¿u cáº§n)
mysql -u root -p
SOURCE Ä‘Æ°á»ng_dáº«n/script.sql;
ğŸ¥ˆ BÆ¯á»šC 2: XÃC Äá»ŠNH CHÃNH XÃC DB NAME & TABLE
Má»Ÿ script.sql, tÃ¬m máº¥y dÃ²ng kiá»ƒu nhÆ°:

CREATE DATABASE webapp;
USE webapp;

CREATE TABLE users (
    ...
);
ğŸ“Œ Ghi láº¡i 3 thá»© Báº®T BUá»˜C:

Database name: webapp

Table name: users

CÃ¡c cá»™t: username, password, â€¦

ğŸ‘‰ DBConnection pháº£i khá»›p 100%

ğŸ¥‰ BÆ¯á»šC 3: LINK DATABASE TRONG DBConnection.java
Má»Ÿ file:

Source Packages
â””â”€â”€ util
    â””â”€â”€ DBConnection.java
Code CHUáº¨N (MySQL):
package util;

import java.sql.Connection;
import java.sql.DriverManager;

public class DBConnection {

    public static Connection getConnection() {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");

            String url = "jdbc:mysql://localhost:3306/webapp?useSSL=false&serverTimezone=UTC";
            String user = "root";
            String pass = "YOUR_PASSWORD";

            return DriverManager.getConnection(url, user, pass);

        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }
}
ğŸ”´ Báº®T BUá»˜C sá»­a 2 chá»—:

webapp â†’ Ä‘Ãºng tÃªn DB trong script.sql

YOUR_PASSWORD â†’ máº­t kháº©u MySQL mÃ¡y báº¡n

ğŸ§ª BÆ¯á»šC 4: TEST RIÃŠNG Káº¾T Ná»I DATABASE (Ráº¤T QUAN TRá»ŒNG)
ğŸ‘‰ Táº¡o class test (chá»‰ Ä‘á»ƒ test DB):

TestDB.java
public class TestDB {
    public static void main(String[] args) {
        if (DBConnection.getConnection() != null) {
            System.out.println("âœ… CONNECT DB SUCCESS");
        } else {
            System.out.println("âŒ CONNECT DB FAILED");
        }
    }
}
â–¶ï¸ Run file nÃ y

Ra CONNECT DB SUCCESS â†’ DB link OK

Fail â†’ 99% lÃ  sai user / password / db name

ğŸ§  BÆ¯á»šC 5: LINK DB VÃ€O DAO (Báº N ÄÃƒ LÃ€M)
Trong UserDAO.java:

Connection conn = DBConnection.getConnection();
ğŸ‘‰ Chá»— nÃ y chÃ­nh lÃ  Ä‘iá»ƒm link DB vÃ o web app

âŒ Lá»–I Ráº¤T HAY Gáº¶P (XEM CÃI NÃ€O DÃNH)
Lá»—i	NguyÃªn nhÃ¢n
Communications link failure	MySQL chÆ°a cháº¡y
Access denied for user	Sai user / password
Unknown database	Sai tÃªn DB
No suitable driver	ChÆ°a add mysql-connector
âœ… TÃ“M Gá»ŒN 1 CÃ‚U
File script.sql chá»‰ dÃ¹ng Ä‘á»ƒ táº¡o DB â†’ Web App link DB thÃ´ng qua DBConnection.java

ğŸ‘‰ Giá» mÃ¬nh há»i 1 cÃ¢u Ä‘á»ƒ lÃ m tiáº¿p cho CHUáº¨N:
Trong script.sql DB tÃªn lÃ  gÃ¬? (webapp hay tÃªn khÃ¡c)

Tráº£ lá»i xong mÃ¬nh chá»‰nh láº¡i DBConnection cho khá»›p 100% vá»›i file cá»§a báº¡n ğŸ‘Œ

Báº¡n Ä‘Ã£ nÃ³i:
dÃ¹ng SQL server Ä‘i
ChatGPT Ä‘Ã£ nÃ³i:
Ok ğŸ‘ chuyá»ƒn háº³n sang SQL Server, mÃ¬nh lÃ m láº¡i BÆ¯á»šC 4 nhÆ°ng Ä‘Ãºng chuáº©n SQL Server + Tomcat + JDBC, cá»±c ká»³ rÃµ Ä‘á»ƒ báº¡n link DB lÃ  cháº¡y liá»n.

ğŸ§± BÆ¯á»šC 4 (SQL SERVER): LINK DATABASE VÃ€O WEB APP
ğŸ¯ Má»¤C TIÃŠU
DÃ¹ng SQL Server (khÃ´ng MySQL)

Import file .sql

Káº¿t ná»‘i báº±ng JDBC

Login / Register cháº¡y báº±ng DB tháº­t

ğŸ¥‡ BÆ¯á»šC 4.1: IMPORT FILE .sql VÃ€O SQL SERVER
1ï¸âƒ£ Má»Ÿ SQL Server Management Studio (SSMS)
â†’ Connect vÃ o SQL Server

2ï¸âƒ£ Chá»n database (hoáº·c táº¡o má»›i)
VÃ­ dá»¥ táº¡o DB má»›i:

CREATE DATABASE WebAppDB;
GO
USE WebAppDB;
3ï¸âƒ£ Má»Ÿ file .sql
File â†’ Open â†’ File

Chá»n file script cá»§a báº¡n

Báº¥m Execute

ğŸ‘‰ Kiá»ƒm tra:

SELECT * FROM users;
Náº¿u cháº¡y Ä‘Æ°á»£c â†’ DB OK

ğŸ¥ˆ BÆ¯á»šC 4.2: Táº¢I JDBC DRIVER CHO SQL SERVER
Báº¡n Báº®T BUá»˜C pháº£i cÃ³ file nÃ y:

ğŸ‘‰ mssql-jdbc-12.x.x.jre8.jar
(náº¿u JDK 8)

Add vÃ o NetBeans:
Chuá»™t pháº£i Libraries

Add JAR/Folder

Chá»n file mssql-jdbc-12.x.x.jre8.jar

OK

âŒ KhÃ´ng cÃ³ driver â†’ KHÃ”NG BAO GIá»œ CONNECT ÄÆ¯á»¢C

ğŸ¥‰ BÆ¯á»šC 4.3: Cáº¤U HÃŒNH SQL SERVER (QUAN TRá»ŒNG)
âœ… 1. Báº­t TCP/IP
SQL Server Configuration Manager

SQL Server Network Configuration

Protocols for MSSQLSERVER

Enable TCP/IP

Restart SQL Server

âœ… 2. Port (thÆ°á»ng lÃ  1433)
Kiá»ƒm tra trong TCP/IP â†’ IPAll â†’ TCP Port

ğŸŸ¦ BÆ¯á»šC 4.4: Táº O DBConnection.java (SQL SERVER)
ğŸ‘‰ Sá»¬A FILE NÃ€Y, khÃ´ng dÃ¹ng MySQL ná»¯a.

package util;

import java.sql.Connection;
import java.sql.DriverManager;

public class DBConnection {

    public static Connection getConnection() {
        try {
            Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");

            String url = "jdbc:sqlserver://localhost:1433;"
                       + "databaseName=WebAppDB;"
                       + "encrypt=true;"
                       + "trustServerCertificate=true";

            String user = "sa";          // hoáº·c user SQL cá»§a báº¡n
            String pass = "YOUR_PASSWORD";

            return DriverManager.getConnection(url, user, pass);

        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }
}
ğŸ”´ Báº®T BUá»˜C chá»‰nh Ä‘Ãºng:

WebAppDB â†’ Ä‘Ãºng tÃªn DB

user / pass â†’ Ä‘Ãºng tÃ i khoáº£n SQL Server

ğŸ§ª BÆ¯á»šC 4.5: TEST RIÃŠNG Káº¾T Ná»I DB
ğŸ‘‰ Táº¡o class test (Java Application):

public class TestDB {
    public static void main(String[] args) {
        if (DBConnection.getConnection() != null) {
            System.out.println("âœ… SQL SERVER CONNECT OK");
        } else {
            System.out.println("âŒ CONNECT FAILED");
        }
    }
}
â–¶ Run file nÃ y

Ra CONNECT OK â†’ DB link thÃ nh cÃ´ng

Fail â†’ xem lá»—i Ä‘á» trong Output

ğŸ—„ï¸ BÆ¯á»šC 4.6: DAO (KHÃ”NG Äá»”I GÃŒ NHIá»€U)
UserDAO.java (SQL Server váº«n dÃ¹ng y chang)
String sql = "SELECT * FROM users WHERE username=? AND password=?";
ğŸ“Œ SQL Server + JDBC váº«n dÃ¹ng PreparedStatement nhÆ° MySQL.

ğŸ” BÆ¯á»šC 4.7: TEST LOGIN / REGISTER
Register:
Má»Ÿ register.html

Táº¡o user

Check DB:

SELECT * FROM users;
Login:
Login user vá»«a táº¡o

VÃ o /home

Logout

Login láº¡i

âŒ Lá»–I SQL SERVER Ráº¤T HAY Gáº¶P
Lá»—i	NguyÃªn nhÃ¢n
Login failed for user	Sai user / password
The TCP/IP connection	ChÆ°a báº­t TCP/IP
No suitable driver	ChÆ°a add JDBC jar
Invalid column name	TÃªn cá»™t sai
âœ… TÃ“M Táº®T 1 DÃ’NG
SQL Server chá»‰ khÃ¡c MySQL á»Ÿ DRIVER + URL, cÃ²n Servlet / DAO giá»¯ nguyÃªn.

ğŸ‘‰ Giá» cho mÃ¬nh biáº¿t:
1ï¸âƒ£ TÃªn database trong SQL Server
2ï¸âƒ£ TÃªn table user (users hay khÃ¡c)
3ï¸âƒ£ Báº¡n dÃ¹ng login SQL (sa) hay Windows Auth

ğŸ‘‰ MÃ¬nh sáº½ chá»‰nh DBConnection + SQL cho khá»›p 100% DB cá»§a báº¡n, khÃ´ng lá»‡ch 1 chá»¯ ğŸ’ª

Báº¡n Ä‘Ã£ nÃ³i:
link database Ä‘Ã£ cÃ³ sáºµn thÃ¬ lÃ m sao
ChatGPT Ä‘Ã£ nÃ³i:
Ã€ ok, database Ä‘Ã£ cÃ³ sáºµn trong SQL Server thÃ¬ mÃ¬nh chá»‰ cáº§n link (connect) tá»›i nÃ³, KHÃ”NG cáº§n táº¡o láº¡i DB ğŸ‘
MÃ¬nh lÃ m tá»«ng bÆ°á»›c cho dá»… theo nha (theo kiá»ƒu Java Web/JDBC + SQL Server).

âœ… BÆ°á»›c 1: Chuáº©n bá»‹ JDBC Driver cho SQL Server
Náº¿u dÃ¹ng NetBeans / Eclipse:

ğŸ‘‰ Táº£i Microsoft JDBC Driver for SQL Server

File thÆ°á»ng lÃ : mssql-jdbc-<version>.jar

ğŸ‘‰ Add vÃ o project:

NetBeans:
Project â†’ Libraries â†’ Add JAR/Folder

Maven thÃ¬ thÃªm dependency (náº¿u cáº§n mÃ¬nh viáº¿t cho)

âœ… BÆ°á»›c 2: XÃ¡c Ä‘á»‹nh thÃ´ng tin database cÃ³ sáºµn
Giáº£ sá»­:

Server: localhost

Port: 1433

Database name: MyDatabase

Username: sa

Password: 123456

ğŸ‘‰ KHÃ”NG cáº§n script.sql ná»¯a náº¿u DB Ä‘Ã£ tá»“n táº¡i.

âœ… BÆ°á»›c 3: Viáº¿t class káº¿t ná»‘i Database (DBUtil / DBContext)
package utils;

import java.sql.Connection;
import java.sql.DriverManager;

public class DBContext {

    public static Connection getConnection() {
        try {
            Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");

            String url = "jdbc:sqlserver://localhost:1433;"
                       + "databaseName=MyDatabase;"
                       + "encrypt=true;trustServerCertificate=true";

            String user = "sa";
            String pass = "123456";

            return DriverManager.getConnection(url, user, pass);
        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }
}
ğŸ“Œ Quan trá»ng:

databaseName=MyDatabase â†’ tÃªn DB Ä‘Ã£ cÃ³

encrypt=true;trustServerCertificate=true â†’ trÃ¡nh lá»—i SSL

âœ… BÆ°á»›c 4: Test káº¿t ná»‘i DB
Táº¡o file test nhanh:

public class TestDB {
    public static void main(String[] args) {
        if (DBContext.getConnection() != null) {
            System.out.println("âœ… Káº¿t ná»‘i SQL Server thÃ nh cÃ´ng");
        } else {
            System.out.println("âŒ Káº¿t ná»‘i tháº¥t báº¡i");
        }
    }
}
ğŸ‘‰ Run thá»­, tháº¥y dÃ²ng thÃ nh cÃ´ng lÃ  OK ğŸ‰

âœ… BÆ°á»›c 5: DÃ¹ng DB trong Register / Login (vÃ­ dá»¥)
VÃ­ dá»¥ insert user (register):

String sql = "INSERT INTO Users(username, password, email) VALUES (?, ?, ?)";

Connection conn = DBContext.getConnection();
PreparedStatement ps = conn.prepareStatement(sql);

ps.setString(1, username);
ps.setString(2, password);
ps.setString(3, email);

ps.executeUpdate();
ğŸ“Œ Chá»‰ cáº§n Ä‘áº£m báº£o:

Báº£ng Users Ä‘Ã£ tá»“n táº¡i

TÃªn cá»™t Ä‘Ãºng 100% vá»›i SQL Server

âš ï¸ Lá»—i hay gáº·p & cÃ¡ch sá»­a nhanh
âŒ Cannot open database requested by the login
ğŸ‘‰ Sai databaseName

âŒ Login failed for user
ğŸ‘‰ Sai user / password SQL Server

âŒ Driver not found
ğŸ‘‰ ChÆ°a add mssql-jdbc.jar

ğŸ‘‰ Giá» mÃ¬nh cÃ³ thá»ƒ lÃ m tiáº¿p cho báº¡n:
1ï¸âƒ£ Link DB trá»±c tiáº¿p vÃ o RegisterServlet
2ï¸âƒ£ Viáº¿t DAO class chuáº©n MVC
3ï¸âƒ£ Check trÃ¹ng username/email khi register
4ï¸âƒ£ Hash password
5ï¸âƒ£ HoÃ n chá»‰nh flow Register â†’ Login

ğŸ‘‰ Báº¡n Ä‘ang lÃ m Web JSP/Servlet hay Java thuáº§n? NÃ³i mÃ¬nh biáº¿t Ä‘á»ƒ lÃ m Ä‘Ãºng form cho báº¡n ğŸ‘Œ




No file chosenNo file chosen
ChatGPT cÃ³ thá»ƒ máº¯c lá»—i. HÃ£y kiá»ƒm tra cÃ¡c thÃ´ng tin quan trá»ng. Vui lÃ²ng tham kháº£o TÃ¹y chá»n cookie.
